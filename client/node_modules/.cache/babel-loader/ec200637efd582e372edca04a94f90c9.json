{"ast":null,"code":"import _slicedToArray from\"/Users/geirtonnessen/Desktop/mern_exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from'axios';import React,{useEffect,useState}from'react';import{Link}from'@reach/router';import{navigate}from'@reach/router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(props){var id=props.id;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),type=_useState4[0],setType=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),errors=_useState8[0],setErrors=_useState8[1];useEffect(function(){console.log(id);axios.get('http://localhost:8000/api/pets/'+id).then(function(res){console.log(res.data);console.log(res.data.name);console.log(res.data.type);console.log(res.data.description);console.log(\"************\");setName(res.data.name);setType(res.data.type);setDescription(res.data.description);}).catch(function(err){console.log(err);console.log('err above');});},[]);var EditPet=function EditPet(e){e.preventDefault();console.log('in edit pet function');console.log(id);axios.put('http://localhost:8000/api/pets/edit/'+id,{name:name,type:type,description:description}).then(function(res){console.log(res);navigate('/');}).catch(function(err){console.log('hfdslifhlsd',err.response.data.errors);console.log(err.response.data.errors);console.log('****');var errorResponse=err.response.data.errors;var errorArr=[];for(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];errorArr.push(errorResponse[key].message);}// Set Errors\nsetErrors(errorArr);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:'/',children:\"back to home\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Edit name\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:EditPet,children:[errors.map(function(err,index){return/*#__PURE__*/_jsx(\"p\",{children:err},index);}),/*#__PURE__*/_jsx(\"p\",{children:\"Pet Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){setName(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{children:\"Pet Type: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:type,onChange:function onChange(e){setType(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{children:\"Pet Description: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:function onChange(e){setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add Pet\"})]})]});});","map":{"version":3,"sources":["/Users/geirtonnessen/Desktop/mern_exam/client/src/views/Edit.jsx"],"names":["axios","React","useEffect","useState","Link","navigate","props","id","name","setName","type","setType","description","setDescription","errors","setErrors","console","log","get","then","res","data","catch","err","EditPet","e","preventDefault","put","response","errorResponse","errorArr","Object","keys","key","push","message","map","index","target","value"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React, {useEffect, useState} from 'react';\nimport {Link} from '@reach/router';\nimport { navigate } from '@reach/router';\n\n\nexport default(props) => {\n    const{id} = props;\n    const [name, setName] = useState('');\n    const [type, setType] = useState('');\n    const [description, setDescription] = useState('');\n    const [errors, setErrors] = useState([]);\n\n    useEffect(()=> {\n        console.log(id)\n        axios.get('http://localhost:8000/api/pets/' + id)\n        .then(res => {\n            console.log(res.data);\n            console.log(res.data.name)\n            console.log(res.data.type)\n            console.log(res.data.description)\n            console.log(\"************\")\n            setName(res.data.name);\n                setType(res.data.type);\n                setDescription(res.data.description);\n\n        })\n        .catch(err => {\n            console.log(err)\n            console.log('err above')\n        })\n    }, [])\n\n    const EditPet = e => {\n        e.preventDefault();\n        console.log('in edit pet function')\n        console.log(id)\n        axios.put('http://localhost:8000/api/pets/edit/' + id, {\n            name,\n            type,\n            description\n        })\n        .then(res=>{console.log(res) \n            navigate('/')}\n        )\n        .catch(err=>{\n            console.log('hfdslifhlsd', err.response.data.errors)\n            console.log(err.response.data.errors)\n            console.log('****')\n            const errorResponse = err.response.data.errors;\n            const errorArr = [];\n            for(const key of Object.keys(errorResponse)){\n                errorArr.push(errorResponse[key].message)\n            }\n            // Set Errors\n            setErrors(errorArr);\n        })\n    }\n    return(\n        <div>\n            <Link to={'/'}>back to home</Link>\n            <h3>Edit name</h3>\n            <form onSubmit ={ EditPet }>\n            {errors.map((err, index) => <p key={index}>{err}</p>)}\n                <p>Pet Name: </p>\n                <input type =\"text\" value={name} onChange={(e) => { setName(e.target.value) }}/>\n                <p>Pet Type: </p>\n                <input type =\"text\" value={type} onChange={(e) => { setType(e.target.value) }}/>\n                <p>Pet Description: </p>\n                <input type =\"text\" value={description} onChange={(e) => { setDescription(e.target.value) }}/>\n                <input type=\"submit\" value=\"Add Pet\"/>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}