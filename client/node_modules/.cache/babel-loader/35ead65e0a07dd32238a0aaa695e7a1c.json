{"ast":null,"code":"import _slicedToArray from\"/Users/geirtonnessen/Desktop/mern_exam/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import{navigate}from'@reach/router';import{Link}from'@reach/router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default(function(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),errors=_useState2[0],setErrors=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var CreatePet=function CreatePet(e){e.preventDefault();console.log('in create pet function');axios.post('http://localhost:8000/api/pets/add',{name:name,type:type,description:description}).then(function(res){console.log(res);navigate('/');}).catch(function(err){console.log('hfdslifhlsd',err.response.data.errors);// console.log(err.response.data.errors.name.message)\nconsole.log('****');var errorResponse=err.response.data.errors;var errorArr=[];for(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];errorArr.push(errorResponse[key].message);}// Set Errors\nsetErrors(errorArr);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{to:'/',children:\"back to home\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:CreatePet,children:[errors.map(function(err,index){return/*#__PURE__*/_jsx(\"p\",{children:err},index);}),/*#__PURE__*/_jsx(\"p\",{children:\"Pet Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{children:\"Pet Type: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:type,onChange:function onChange(e){return setType(e.target.value);}}),/*#__PURE__*/_jsx(\"p\",{children:\"Pet Description: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:description,onChange:function onChange(e){return setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Add Pet\"})]})]});});","map":{"version":3,"sources":["/Users/geirtonnessen/Desktop/mern_exam/client/src/views/Add.jsx"],"names":["React","useState","axios","navigate","Link","errors","setErrors","name","setName","type","setType","description","setDescription","CreatePet","e","preventDefault","console","log","post","then","res","catch","err","response","data","errorResponse","errorArr","Object","keys","key","push","message","map","index","target","value"],"mappings":"oKAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,eAAzB,CACA,OAAQC,IAAR,KAAmB,eAAnB,C,wFAEA,eAAc,UAAM,eACWH,QAAQ,CAAC,EAAD,CADnB,wCACVI,MADU,eACFC,SADE,8BAEOL,QAAQ,CAAC,EAAD,CAFf,yCAEVM,IAFU,eAEJC,OAFI,8BAGOP,QAAQ,CAAC,EAAD,CAHf,yCAGVQ,IAHU,eAGJC,OAHI,8BAIqBT,QAAQ,CAAC,EAAD,CAJ7B,yCAIVU,WAJU,eAIGC,cAJH,eAMhB,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,CAAC,CAAI,CACnBA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,wBAAZ,EACAf,KAAK,CAACgB,IAAN,CAAW,oCAAX,CAAiD,CAC7CX,IAAI,CAAJA,IAD6C,CAE7CE,IAAI,CAAJA,IAF6C,CAG7CE,WAAW,CAAXA,WAH6C,CAAjD,EAKCQ,IALD,CAKM,SAAAC,GAAG,CAAE,CAACJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACRjB,QAAQ,CAAC,GAAD,CAAR,CAAc,CANlB,EAQCkB,KARD,CAQO,SAAAC,GAAG,CAAE,CACRN,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2BK,GAAG,CAACC,QAAJ,CAAaC,IAAb,CAAkBnB,MAA7C,EACA;AACAW,OAAO,CAACC,GAAR,CAAY,MAAZ,EACA,GAAMQ,CAAAA,aAAa,CAAGH,GAAG,CAACC,QAAJ,CAAaC,IAAb,CAAkBnB,MAAxC,CACA,GAAMqB,CAAAA,QAAQ,CAAG,EAAjB,CACA,0BAAiBC,MAAM,CAACC,IAAP,CAAYH,aAAZ,CAAjB,6BAA4C,CAAxC,GAAMI,CAAAA,GAAG,iBAAT,CACAH,QAAQ,CAACI,IAAT,CAAcL,aAAa,CAACI,GAAD,CAAb,CAAmBE,OAAjC,EACH,CACD;AACAzB,SAAS,CAACoB,QAAD,CAAT,CACH,CAnBD,EAoBH,CAvBD,CAwBA,mBACI,oCACI,KAAC,IAAD,EAAM,EAAE,CAAE,GAAV,0BADJ,cAEI,cAAM,QAAQ,CAAIb,SAAlB,WACCR,MAAM,CAAC2B,GAAP,CAAW,SAACV,GAAD,CAAMW,KAAN,qBAAgB,mBAAgBX,GAAhB,EAAQW,KAAR,CAAhB,EAAX,CADD,cAEI,iCAFJ,cAGI,cAAO,IAAI,CAAE,MAAb,CAAoB,KAAK,CAAE1B,IAA3B,CAAiC,QAAQ,CAAI,kBAACO,CAAD,QAAMN,CAAAA,OAAO,CAACM,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAb,EAA7C,EAHJ,cAII,iCAJJ,cAKI,cAAO,IAAI,CAAE,MAAb,CAAoB,KAAK,CAAE1B,IAA3B,CAAiC,QAAQ,CAAI,kBAACK,CAAD,QAAMJ,CAAAA,OAAO,CAACI,CAAC,CAACoB,MAAF,CAASC,KAAV,CAAb,EAA7C,EALJ,cAMI,wCANJ,cAOI,cAAO,IAAI,CAAE,MAAb,CAAoB,KAAK,CAAExB,WAA3B,CAAwC,QAAQ,CAAI,kBAACG,CAAD,QAAMF,CAAAA,cAAc,CAACE,CAAC,CAACoB,MAAF,CAASC,KAAV,CAApB,EAApD,EAPJ,cAQI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,SAA3B,EARJ,GAFJ,GADJ,CAeH,CA7CD","sourcesContent":["import React, {useState} from 'react';\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\nimport {Link} from '@reach/router';\n\nexport default() => {\n    const[errors, setErrors] = useState([]);\n    const[name, setName] = useState('');\n    const[type, setType] = useState('');\n    const[description, setDescription] = useState('');\n\n    const CreatePet = e => {\n        e.preventDefault();\n        console.log('in create pet function')\n        axios.post('http://localhost:8000/api/pets/add', {\n            name,\n            type,\n            description\n        })\n        .then(res=>{console.log(res) \n            navigate('/')}\n        )\n        .catch(err=>{\n            console.log('hfdslifhlsd', err.response.data.errors)\n            // console.log(err.response.data.errors.name.message)\n            console.log('****')\n            const errorResponse = err.response.data.errors;\n            const errorArr = [];\n            for(const key of Object.keys(errorResponse)){\n                errorArr.push(errorResponse[key].message)\n            }\n            // Set Errors\n            setErrors(errorArr);\n        })\n    }\n    return(\n        <div>\n            <Link to={'/'}>back to home</Link>\n            <form onSubmit ={ CreatePet }>\n            {errors.map((err, index) => <p key={index}>{err}</p>)}\n                <p>Pet Name: </p>\n                <input type =\"text\" value={name} onChange = {(e) =>setName(e.target.value)}/>\n                <p>Pet Type: </p>\n                <input type =\"text\" value={type} onChange = {(e) =>setType(e.target.value)}/>\n                <p>Pet Description: </p>\n                <input type =\"text\" value={description} onChange = {(e) =>setDescription(e.target.value)}/>\n                <input type=\"submit\" value=\"Add Pet\"/>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}